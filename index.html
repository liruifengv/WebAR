<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>调用摄像头拍照 </title>
    <style>
        #videoBox{position: absolute;left: 50%;top: 50%;z-index: 1;-webkit-transform: translate(-50%,-50%);-webkit-transform-origin: 50% 50%;}
        #videoWrap{position: relative;left: 0;top: 0;background: #4CAABE;overflow: hidden;}
    </style>
</head>
<body>
    <div id="videoWrap">
        <video autoplay="autoplay" id="videoBox"></video>
    </div>
<script>
  function getUserMedia(constrains,success,error) {
    if (navigator.mediaDevices.getUserMedia) {
      navigator.mediaDevices.getUserMedia(constrains).then(success).catch(error)
    } else if (navigator.webkitGetUserMedia) {
      navigator.webkitGetUserMedia(constrains,success.error)
    } else if (navigator.mozGetUserMedia) {
      navigator.mozkitGetUserMedia(constrains,success.error)
    } else if (navigator.getUserMedia) {
      navigator.getUserMedia(constrains,success,error)
    }
  }
  let video = document.getElementById('videoBox')
  function success(stream) {
    if(!stream) {
        alert('stream:',stream)
    }
    let CompatibleUrl = window.URL || window.webkitURL
    video.src = CompatibleUrl.createObjectURL(stream)
    video.play()
  }
  function error(error) {
    alert('ERROR:',error.name,error.message)
  }
  
  if (navigator.mediaDevices.getUserMedia || navigator.getUserMedia || navigator.mozGetUserMedia || navigator.webkitGetUserMedia) {
    getUserMedia({video:true},success,error)
  } else {
    alert('you bower id not getUserMedia')
  }

</script>
</body>
</html>